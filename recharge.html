<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Mobicomm - Login</title>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
        <link rel="stylesheet" href="./css/main.min.css">
    </head>

    <body style="overflow-x: hidden;">
        <nav class="navbar navbar-expand-lg bg-primary fixed-top">
            <div class="container">
                <a class="navbar-brand" href="./index.html">
                    <img src="./images/mobicomm_logo_w.png" alt="Mobicomm Logo" draggable="false" height="30" />
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto align-items-center">
                        <li class="nav-item">
                            <a class="nav-link mx-2 text-light" href="index.html"><i
                                    class="fas fa-home pe-2"></i>Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-2 text-light" href="#"><i class="fas fa-bell pe-2"></i>Recharge</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-2 text-light" href="#"><i
                                    class="fas fa-circle-info pe-2"></i>Support</a>
                        </li>
                        <li class="nav-item ms-3">
                            <a class="btn btn-dark rounded-pill" href="#">Login</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container py-5">
            <div class="row my-5">
                <div class="col-md-4 mb-3">
                    <div class="card ">
                        <div class="card-body">
                            <h4 class="card-title">Plan Summary</h4>
                            <h5 class="mt-3">Features</h5>
                            <ul class="list-group" id="planFeatures"></ul>
                            <h5 class="mt-3">Total: ₹<span id="planPrice">0</span></h5>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Payment Methods</h4>
                            <div class="btn-group w-100 mb-3" role="group" aria-label="Payment Options">
                                <button type="button" class="btn btn-outline-primary w-50"
                                    id="credit-card-btn">Credit/Debit
                                    Card</button>
                                <button type="button" class="btn btn-outline-primary w-50" id="upi-btn">UPI</button>
                            </div>

                            <div id="credit-card-form" class="payment-form">
                                <div class="mb-3">
                                    <label for="card-number" class="form-label">Card Number</label>
                                    <input type="text" class="form-control" id="card-number"
                                        placeholder="XXXX XXXX XXXX XXXX">
                                </div>
                                <div class="mb-3">
                                    <label for="card-expiry" class="form-label">Expiry Date</label>
                                    <input type="text" class="form-control" id="card-expiry" placeholder="MM/YY">
                                </div>
                                <div class="mb-3">
                                    <label for="card-cvc" class="form-label">CVC</label>
                                    <input type="text" class="form-control" id="card-cvc" placeholder="CVC">
                                </div>
                                <button class="btn btn-primary w-100">Pay ₹<span id="paymentAmount">0</span></button>
                            </div>

                            <div id="upi-form" class="payment-form" style="display: none;">
                                <div class="mb-3">
                                    <label for="upi-id" class="form-label">UPI ID</label>
                                    <input type="text" class="form-control" id="upi-id" placeholder="example@upi">
                                </div>
                                <button class="btn btn-primary w-100" id="upi-payment-btn">Pay ₹<span
                                        id="upiPaymentAmount">0</span></button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Transaction Status</h5>
                    </div>
                    <div class="modal-body text-center">
                        <div class="donut-chart">
                            <div class="donut-chart-circle"></div>
                            <div class="donut-chart-progress" id="progress"></div>
                        </div>
                        <p id="message">Please wait...</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary btn-close" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <footer class="row row-cols-1 row-cols-md-2 row-cols-lg-5 p-5 my-5 border-top">
            <div class="col p-3">
                <a href="/" class="d-flex align-items-center mb-3 link-dark text-decoration-none">
                    <img src="./images/mobicomm_logo_b.png" style="width: 150px;" alt="Mobicomm Logo">
                </a>
                <p class="text-muted">Mobicomm India Private Limited<br>&copy; 2025</p>
            </div>

            <div class="col d-none d-lg-block"></div> <!-- Empty column for spacing on large screens -->

            <div class="col mb-4">
                <h5>Services</h5>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Get a New Sim</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Get an eSim</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">5G Connectivity</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">5G Upgrade</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Callertunes</a></li>
                </ul>
            </div>

            <div class="col mb-4">
                <h5>Recharge</h5>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Popular Plans</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Data Addons</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">International Roaming</a>
                    </li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Basic Plans</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Unlimited Plans</a></li>
                </ul>
            </div>

            <div class="col">
                <h5>Quick Links</h5>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Home</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Features</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Pricing</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">FAQs</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">About</a></li>
                </ul>
            </div>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
        <script>
            document.getElementById("credit-card-btn").addEventListener("click", function () {
                document.getElementById("credit-card-form").style.display = "block";
                document.getElementById("upi-form").style.display = "none";
            });

            document.getElementById("upi-btn").addEventListener("click", function () {
                document.getElementById("credit-card-form").style.display = "none";
                document.getElementById("upi-form").style.display = "block";

            });

            document.getElementById("upi-payment-btn").addEventListener("click", function () {
                document.getElementById("credit-card-form").style.display = "none";
                document.getElementById("upi-form").style.display = "block";

                const myModal = new bootstrap.Modal(document.getElementById('myModal'));
                myModal.show();
            });

            let paramsearcher = new URLSearchParams(window.location.search);

            fetch('./plans.json')
                .then(res => res.json())
                .then(data => {
                    let id = paramsearcher.get('planid');
                    let plan = data[id];
                    if (plan) {
                        let featureEL = document.getElementById('planFeatures');
                        plan.features.forEach(feature => {
                            featureEL.innerHTML += `<li class="list-group-item">${feature}</li>`;
                        });
                        document.getElementById('planPrice').textContent = plan.price;
                        document.getElementById('paymentAmount').textContent = plan.price;
                        document.getElementById('upiPaymentAmount').textContent = plan.price;
                    }
                });

            document.addEventListener('DOMContentLoaded', function () {
                const myModal = document.getElementById('myModal');
                myModal.addEventListener('shown.bs.modal', function () {
                    const message = document.getElementById('message');
                    const progress = document.getElementById('progress');
                    const closeButton = myModal.querySelector('.btn-close');
                    const steps = [
                        { text: "Please wait...", duration: 1000, progress: 0 },
                        { text: "Starting transaction...", duration: 2000, progress: 50 },
                        { text: "Verifying transaction...", duration: 2000, progress: 100 },
                        { text: "Payment successful!", duration: 0, progress: 100 }
                    ];

                    let currentStep = 0;

                    function showStep(step) {
                        message.textContent = step.text;
                        progress.style.transform = `rotate(${step.progress * 3.6}deg)`;
                        if (currentStep === steps.length - 1) {
                            closeButton.style.display = 'block';
                        }
                    }

                    function processSteps() {
                        if (currentStep < steps.length) {
                            showStep(steps[currentStep]);

                            if (steps[currentStep].duration > 0) {
                                setTimeout(processSteps, steps[currentStep].duration);
                            } else {
                                setTimeout(processSteps, 500);
                            }
                            currentStep++;
                        }
                    }

                    processSteps();
                });

                myModal.addEventListener('hidden.bs.modal', function () {
                    const closeButton = myModal.querySelector('.btn-close');
                    closeButton.style.display = 'none';
                });
            });
        </script>

    </body>

</html>