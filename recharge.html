<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Mobicomm - Login</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
        <link rel="stylesheet" href="./css/main.min.css">
        <script src="./node_modules/@popperjs/core/lib/popper.js" type="module" defer></script>
        <script src="./script.js" defer></script>
    </head>

    <body style="overflow-x: hidden;">
        <nav class="navbar sticky-top navbar-expand-lg bg-primary overflow-hidden">
            <div class="container">
                <a class="navbar-brand" href="#"><img src="./images/mobicomm_logo_w.PNG" height="30" alt=""></a>
                <button class="navbar-toggler border-0 text-light" style="outline: none;" type="button"
                    data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"
                        style="background-image: url('data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 30 30\'%3e%3cpath stroke=\'rgba(255, 255, 255, 1)\' stroke-linecap=\'round\' stroke-miterlimit=\'10\' stroke-width=\'2\' d=\'M4 7h22M4 15h22M4 23h22\'/%3e%3c/svg%3e');outline: none;"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent" style="transition: all .4s ease;">
                    <ul class="navbar-nav  w-100 justify-content-end text-white align-items-center">
                        <li class="nav-item active">
                            <a class="nav-link text-white" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#">About</a>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="plans.html">Plans</a>
                        <li class=" nav-item">
                            <a class="nav-link text-white" href="./support.html">Support</a>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="./login.html">
                                <i class="fa-solid fa-user p-2 bg-light rounded-pill text-primary"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container py-5">
            <div class="row my-5">
                <div class="col-md-4 mb-3">
                    <div class="card ">
                        <div class="card-body">
                            <h4 class="card-title">Plan Summary</h4>
                            <h5 class="mt-3">Features</h5>
                            <ul class="list-group" id="planFeatures"></ul>
                            <h5 class="mt-3">Total: ₹<span id="planPrice">0</span></h5>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Payment Methods</h4>
                            <div class="btn-group w-100 mb-3" role="group" aria-label="Payment Options">
                                <button type="button" class="btn btn-outline-primary w-50"
                                    id="credit-card-btn">Credit/Debit
                                    Card</button>
                                <button type="button" class="btn btn-outline-primary w-50" id="upi-btn">UPI</button>
                            </div>

                            <div id="credit-card-form" class="payment-form">
                                <div class="mb-3">
                                    <label for="card-number" class="form-label">Card Number</label>
                                    <input type="text" class="form-control" id="card-number"
                                        placeholder="XXXX XXXX XXXX XXXX">
                                </div>
                                <div class="mb-3">
                                    <label for="card-expiry" class="form-label">Expiry Date</label>
                                    <input type="text" class="form-control" id="card-expiry" placeholder="MM/YY">
                                </div>
                                <div class="mb-3">
                                    <label for="card-cvc" class="form-label">CVC</label>
                                    <input type="text" class="form-control" id="card-cvc" placeholder="CVC">
                                </div>
                                <button id="card-payment-btn" class="btn btn-primary w-100">Pay ₹<span
                                        id="paymentAmount">0</span></button>
                            </div>

                            <div id="upi-form" class="payment-form" style="display: none;">
                                <div class="mb-3">
                                    <label for="upi-id" class="form-label">UPI ID</label>
                                    <input type="text" class="form-control" id="upi-id" placeholder="example@upi">
                                </div>
                                <button class="btn btn-primary w-100" id="upi-payment-btn">Pay ₹<span
                                        id="upiPaymentAmount">0</span></button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="row row-cols-1 row-cols-md-2 row-cols-lg-5 p-5 mt-5 border-top bg-secondary">
            <div class="col p-3">
                <a href="/" class="d-flex align-items-center mb-3 link-dark text-decoration-none">
                    <img src="./images/mobicomm_logo_b.png" style="width: 150px;" alt="Mobicomm Logo">
                </a>
                <p class="text-muted">Mobicomm India Private Limited<br>&copy; 2025</p>
                <div class="social-links d-flex text-light align-items-center gap-3">
                    <div class="rounded-pill bg-primary d-flex align-items-center justify-content-center"
                        style="height: 30px;width: 30px;">
                        <i class="fab fa-facebook-f"></i>
                    </div>
                    <div class="rounded-pill bg-primary d-flex align-items-center justify-content-center"
                        style="height: 30px;width: 30px;">
                        <i class="fab fa-twitter"></i>
                    </div>
                    <div class="rounded-pill bg-primary d-flex align-items-center justify-content-center"
                        style="height: 30px;width: 30px;">
                        <i class="fab fa-instagram"></i>
                    </div>
                    <div class="rounded-pill bg-primary d-flex align-items-center justify-content-center"
                        style="height: 30px;width: 30px;">
                        <i class="fab fa-linkedin-in"></i>
                    </div>
                    <div class="rounded-pill bg-primary d-flex align-items-center justify-content-center"
                        style="height: 30px;width: 30px;">
                        <i class="fab fa-youtube"></i>
                    </div>
                </div>
            </div>

            <div class="col d-none d-lg-block"></div> <!-- Empty column for spacing on large screens -->

            <div class="col mb-4">
                <h5 class="text-primary">Services</h5>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="./index.html#cardNewSim" class="nav-link p-0 text-muted">Get a
                            New Sim</a></li>
                    <li class="nav-item mb-2"><a href="./index.html#cardEsim" class="nav-link p-0 text-muted">Get an
                            eSim</a></li>
                    <li class="nav-item mb-2"><a href="./index.html#card5GConnectivity"
                            class="nav-link p-0 text-muted">5G Connectivity</a></li>
                    <li class="nav-item mb-2"><a href="./index.html#card5GUpgrade" class="nav-link p-0 text-muted">5G
                            Upgrade</a></li>
                    <li class="nav-item mb-2"><a href="./admin-login.html" class="nav-link p-0 text-muted">Administrator
                            Portal</a>
                    </li>
                </ul>
            </div>

            <div class="col mb-4">
                <h5 class="text-primary">Recharge</h5>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="" class="nav-link p-0 text-muted">Popular Plans</a></li>
                    <li class="nav-item mb-2"><a href="" class="nav-link p-0 text-muted">Data Addons</a></li>
                    <li class="nav-item mb-2"><a href="" class="nav-link p-0 text-muted">International Roaming</a></li>
                    <li class="nav-item mb-2"><a href="" class="nav-link p-0 text-muted">Basic Plans</a></li>
                    <li class="nav-item mb-2"><a href="" class="nav-link p-0 text-muted">Unlimited Plans</a></li>
                </ul>
            </div>

            <div class="col">
                <h5 class="text-primary">Quick Links</h5>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Home</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Features</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Pricing</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">FAQs</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">About</a></li>
                </ul>
            </div>
        </footer>

        <style>
            footer .nav-link:hover {
                color: #0f0b9e !important;
            }
        </style>

        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
        <script>
            document.getElementById("credit-card-btn").addEventListener("click", function () {
                document.getElementById("credit-card-form").style.display = "block";
                document.getElementById("upi-form").style.display = "none";
            });

            document.getElementById("upi-btn").addEventListener("click", function () {
                document.getElementById("credit-card-form").style.display = "none";
                document.getElementById("upi-form").style.display = "block";
            });

            document.getElementById("card-payment-btn").addEventListener("click", function () {
                const cardNumber = document.getElementById("card-number").value;
                const cardExpiry = document.getElementById("card-expiry").value;
                const cardCVC = document.getElementById("card-cvc").value;

                // Card validation
                if (!validateCardNumber(cardNumber)) {
                    alert("Please enter a valid card number.");
                    return;
                }
                if (!validateCardExpiry(cardExpiry)) {
                    alert("Please enter a valid expiry date (MM/YY).");
                    return;
                }
                if (!validateCardCVC(cardCVC)) {
                    alert("Please enter a valid CVC.");
                    return;
                }

                // If validation is successful, show modal
                showTransactionModal();
            });

            document.getElementById("upi-payment-btn").addEventListener("click", function () {
                const upiId = document.getElementById("upi-id").value;

                // UPI validation
                if (!validateUPI(upiId)) {
                    alert("Please enter a valid UPI ID.");
                    return;
                }

                // If validation is successful, show modal
                showTransactionModal();
            });

            function validateCardNumber(cardNumber) {
                // Check if card number is valid (basic check for 16 digits)
                const regex = /^\d{16}$/;
                return regex.test(cardNumber);
            }

            function validateCardExpiry(cardExpiry) {
                // Check if expiry date is valid MM/YY format
                const regex = /^(0[1-9]|1[0-2])\/\d{2}$/;
                return regex.test(cardExpiry);
            }

            function validateCardCVC(cardCVC) {
                // Check if CVC is valid (3 digits)
                const regex = /^\d{3}$/;
                return regex.test(cardCVC);
            }

            function validateUPI(upiId) {
                // Basic check for UPI ID (should contain '@' and a valid domain)
                const regex = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9.-]+$/;
                return regex.test(upiId);
            }

            function showTransactionModal() {
                window.location.href = `./gateway.html?a=${price}`;
            }
            let paramsearcher = new URLSearchParams(window.location.search);

            let price = 0;
            fetch('http://localhost:3000/plans')
                .then(res => res.json())
                .then(data => {
                    let id = paramsearcher.get('planid');
                    let plan = data[id];
                    if (plan) {
                        let featureEL = document.getElementById('planFeatures');
                        plan.features.forEach(feature => {
                            featureEL.innerHTML += `<li class="list-group-item">${feature}</li>`;
                        });
                        document.getElementById('planPrice').textContent = plan.price;
                        document.getElementById('paymentAmount').textContent = plan.price;
                        document.getElementById('upiPaymentAmount').textContent = plan.price;
                        price = plan.price
                    }
                });



        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    </body>

</html>